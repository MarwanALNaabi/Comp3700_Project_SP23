<html>
    <head>
        <link rel="stylesheet" href="book_style.css">
        <meta charset="lutf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Sport Field Booking</title>
        <link rel="icon" type="images/x-icon" href="web Photos/2.ico"/>
    </head>
    <header>
        <a href="index.html"><img id="logo" src="web Photos/2.svg" alt="logo" width="110" height="110"></a>
        
        <h1 style="color:rgb(255, 255, 255)">Sport Field Booking</h1>
        <nav>
            <ul class="menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="book.html">Book</a></li>
                <li><a href="add.html">Add</a></li>
                <li><a href="questionnaire.html">questionnaire</a></li>
                <li><a href="game.html">game</a></li>
                <li><a href="calculate.html">calculate</a></li>
                <li><a href="contact_us.html">contact us</a></li>
                <li><a href="about_us.html">About us</a></li>
            </ul>
        </nav>
        
    </header>



    <body onload="createTable()">
            <center>Booking</center> 
            <form id="book-form" onsubmit="return checkValidation()">
                <!-- for choosing the club-->
                <select id="clubName" class="form-select" aria-label="Default select example">
                    <option selected disabled>Select Club..</option>                    
                    <option value="Club1">Club1</option>
                    <option value="Club2">Club2</option>
                    <option value="Club3">Club3</option>
                    <option value="Club4">Club4</option>
                </select>

                <!-- for choosing the sport-->
                <p id="sport-time"> Select the sport: 
                
                    <label class="choice-form"> Football <input type="radio" name="sport-choice" class="choice-form"
                         value="foot ball" id="footballchoice"/> </label>
    
                    <label class="choice-form"> Padel <input type="radio" name="sport-choice" class="choice-form"
                         value="padel" id="padelchoice"/></label>
                </p>

                <!-- displaying the prices-->
                <input type="button" value="Show Prices" onclick="displayPrice()"/>
                <center>
                    <table>
                        <thead>
                          <tr>
                            <th>Sport</th>
                            <th>Duration</th>
                            <th>Price</th>
                          </tr>
                        </thead>
                        <tbody>
                        </tbody>
                      </table>
            </center>
                <br>
                <br>

                <!-- for choosing the duration-->
            <div class="form-group">
            <label for="date">Date:</label>
            <input type="date" id="date" name="date" required>
          </div>
            <div class="form-group">
              <label for="time">Time:</label>
              <input type="time" id="time" name="time" required>
            </div>
            <div class="form-group">
              <label for="duration">Duration:</label>
              <select id="duration" name="duration" required>
                <option value="" disabled selected>Select Duration</option>
                <option value="1">1 hour</option>
                <option value="1.5">1.5 hours</option>
                <option value="2">2 hours</option>
              </select>
            </div>
            <div class="form-group">
              <label for="name">Name:</label>
              <input type="text" id="name" name="name" required>
            </div>
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" required placeholder="i.e. youremail@gmial.com">
            </div>
            <div class="form-group">
              <label for="phone">Phone:</label>
              <input type="tel" id="phone" name="phone" required placeholder="i.e. 98765432">
            </div>
            <div class="form-group">
              <label for="message">Additional Comments:</label>
              <textarea id="message" name="message"></textarea>
            </div>
            <button type="submit">Book Now</button>
            </form>


            <div id="bookingData">

            </div>

            <script type="text/javascript">

                function book(clubName, sportName, date, time, duration, personName,email, phone ) {
                    var list = [clubName, sportName, date,
                     time, duration, personName,email, phone];
                    return list
                }
                const booking = [
                { sportName: 'Padel', duration: '60 min', price: 12 },
                { sportName: 'Padel', duration: '90 min', price: 18 },
                { sportName: 'Padel', duration: '120 min', price: 24 },
                { sportName: 'Football', duration: '60 min', price: 10 },
                { sportName: 'Football', duration: '90 min', price: 15 },
                { sportName: 'Football', duration: '120 min', price: 20 }
                ];

                //to check if the football or padel is choosen 
                var Fcheck = document.getElementById("footballchoice");
                var Pcheck = document.getElementById("padelchoice");
                var footBallShown = false;
                var padelShown = false;
                function displayPrice(){

                    const table = document.querySelector('table');
                    const tbody = table.querySelector('tbody');
                    //if the user chooses football display the table prices for football
                    
                    if (Fcheck.checked){
                        if(!footBallShown){
                        for (let i = 3; i < booking.length; i++) {
                            const sport = booking[i];
                            const row = tbody.insertRow();
                            const sportNameCell = row.insertCell();
                            const durationCell = row.insertCell();
                            const priceCell = row.insertCell();

                            sportNameCell.textContent = sport.sportName;
                            durationCell.textContent = sport.duration;
                            priceCell.textContent = sport.price;
                        } 
                        footBallShown = true;
                    }
                }


                    //if the user chooses padel display the table prices for padel
                    else if(Pcheck.checked){
                        if(!padelShown){
                        for (let i = 0; i < 3; i++) {
                            const sport = booking[i];
                            const row = tbody.insertRow();
                            const sportNameCell = row.insertCell();
                            const durationCell = row.insertCell();
                            const priceCell = row.insertCell();

                            sportNameCell.textContent = sport.sportName;
                            durationCell.textContent = sport.duration;
                            priceCell.textContent = sport.price;
                        }
                        padelShown = true;
                    }
                    }
                }  
                function createTable(){
                    var div =document.getElementById("bookingData");
                    var table=document.createElement("table");
                    div.appendChild(table)
                    table.setAttribute("border","2");
                    table.setAttribute("width","100%");
                    table.setAttribute("id","dataTable");
                    table.setAttribute("display","none");

                    var dataList = book("Sport Field Name ", "sport Name","date", 
                    "time","duration",
                    "person name", "E-mail","phone number");
                    
                    var row=document.createElement("tr")
                    table.appendChild(row);
                    for(var i=0 ; i < 8 ; i++){
                        var column=document.createElement("th");
                        row.appendChild(column);
                        column.innerText = dataList[i];
                    }
                }

                function addInfo(){
                     var list = confirmInfo();
                     var table = document.getElementById("dataTable");
                     var rows = table.rows.length;
                     var row1=table.insertRow(rows);
                     for(var i = 0 ; i < 8 ; i++){
                        var column = document.createElement("td")
                        row1.appendChild(column);
                        column.innerText = list[i];
                    }    
                }

                function confirmInfo(){
                var info1 = document.getElementById("clubName").value;

                var sportType1 = document.getElementById("footballchoice").checked;
                var sportType2 = document.getElementById("padelchoice").checked;
                var info2 = ""
                if(sportType1){
                    info2 = "Foot Ball"
                }
                else if(sportType2){
                    info2 = "Padel"
                }

                var info3 = document.getElementById("date").value;
                var info4 = document.getElementById("time").value;
                var info5 = document.getElementById("duration").value;
                var info6 = document.getElementById("name").value;
                var info7 = document.getElementById("email").value;
                var info8 = document.getElementById("phone").value;

                var infoList = book(info1 , info2 , info3 , info4
                 , info5, info6, info7, info8);
                return infoList;
            }  add
            function checkValidation(){
              
              let name = document.forms["book-form"]["name"];
              let contact = document.forms["book-form"]["phone"];

              if(name.value.search(/\d/)!=-1){
                alert("The Name is not Valid !")
                return false;
              }

              if(contact.value.length != 8){
                alert("The Contact Number is not 8 Digit Number !")
                return false;
              }
              
              var list = confirmInfo();
              addInfo(list);
              alert("Booking confirmed.")

              //the return statement will be changed to true when the data base is applied.
              return false;
            }
            
                
            </script>
    </body>



    <footer>
        <div class="container">
            <div class="row">
                <div class="col">
                    <h3>Website pages</h3>
                    <ul>
                        <li><a href="index.html">Home Page</a></li>
                        <li><a href="book.html">Book a sport field</a></li>
                        <li><a href="add.html">Add a sport field </a></li>
                        <li><a href="questionnaire.html">questionnaire</a></li>
                        <li><a href="game.html">game</a></li>
                        <li><a href="calculate.html">calculate</a></li>
                        <li><a href="contact_us.html">contact us</a></li>
                        <li><a href="about_us.html">About us</a></li>                           
                    </ul>
                </div>
                <div class="col">
                    <ul>
                        <h3>Sultan Qaboos University</h3>
                        <h3>College of Science</h3>
                        <h3>Computer Science Department</h3>
                        <h3>COMP3700 SP23 Project</h3>    
                        <h3>Members:</h3>
                        <h4>Marwan ALNaabi</h4>
                        <h4>Majid ALManthari</h4>
                        <h4>Yaqoob ALBalushi</h4>


                    </ul>
                    
                </div>
            </div>
        </div>

    </footer>

</html>