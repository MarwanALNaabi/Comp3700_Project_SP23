<!--**The table is not visible to the user , to make it visible , change the display attribute in addStyle.css file line 143 **-->
<html>
    <head>
        <meta charset="lutf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Sport Field Booking</title>
        <link rel="icon" type="images/x-icon" href="web Photos/2.ico"/>

        <link rel="stylesheet" href="addStyle.css">
        <style>
            button:hover{background-color: gray;}
        </style>
    </head>
    <header>
        <a href="index.html"><img id="logo" src="web Photos/2.svg" alt="logo" width="110" height="110"></a>
        
        <h1 style="color:rgb(255, 255, 255)">Sport Field Booking</h1>
        <nav>
          <ul class="menu">
            <li><a href="index.html">Home</a></li>
            <li><a href="https://sportfieldbooking.000webhostapp.com/book.php">Book</a></li>
            <li><a href="add.html">Add</a></li>
            <li><a href="questionnaire.html">questionnaire</a></li>
            <li><a href="game.html">game</a></li>
            <li><a href="calculate.html">calculate</a></li>
            <li><a href="contact_us.html">contact us</a></li>
            <li><a href="about_us.html">About us</a></li>
            <li><a href="https://sportfieldbooking.000webhostapp.com/search.php">Search</a></li>  
          </ul>
      </nav>
        
    </header>
    
    <body onload="createTable()" >
           <form id="addForm" action="https://sportfieldbooking.000webhostapp.com/add.php" method="post" onsubmit="return checkValidation()">

            <label class ="fit" style=" font-weight: bolder; font-size: larger;" >
                Please fill the required information :
            </label><br/><br/>
            
            <label class ="fit">
                Sport Field Name :<br/> <input id="name" class="fit" type="text" name="name" required>
            </label><br/>


            <div class = "container">
                <div class="row">
                  <div class="col-12">
                    <h4>Type of field:</h4>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12">

                    <ul>
                     <li>
                        <label class="container">In-Door
                          <input id="type1" name="type1" type="checkbox" checked="checked">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                      
                     <li>
                        <label class="container">Out-Door
                          <input id="type2" type="checkbox" name="type2">
                          <span class="checkmark"></span>
                        </label>
                     </li>    
                     </ul>
                  </div>
                </div>
              </div>
<br>
            <label class ="fit">
                Commercial register number :<br/>
                <input id="commercialNo" class="fit" type="number" name="commercialNo" required></label><br/>
            <label class ="fit">Contact number : <br/><input id="contactNo" class="fit" type="number" name="contactNo" size="8" required placeholder="i.e. 98765432"></label><br/>
            <label class ="fit">E-mail address :<br/><input id="email" class="fit" type="email" name="email" required placeholder="i.e youremail@gmail.com"></label><br/>
             
            <label class ="fit">Type of sport :<br/>
                <select id="sportType" class="fit" name="sportType" required>
                    <option id="sportType1" value="Football">Football</option>      
                    <option id="sportType2" value="Padel">Padel</option>

                </select>
            </label><br/>
            <label class ="fit">Province :<br/>
                <select name="Province" id="Province" class="fit"  required>
                    <option value="Ad Dakhiliyah">Ad Dakhiliyah</option>
                    <option value="Ad Dhahirah">Ad Dhahirah</option>
                    <option value="Al Batinah North">Al Batinah North</option>
                    <option value="Al Batinah South">Al Batinah South</option>
                    <option value="Al Buraimi">Al Buraimi</option>
                    <option value="Al Wusta">Al Wusta</option>
                    <option value="Ash Sharqiyah North">Ash Sharqiyah North</option>
                    <option value="Ash Sharqiyah South">Ash Sharqiyah South</option>
                    <option value="Dhofar">Dhofar</option>
                    <option value="Muscat">Muscat</option>
                    <option value="Musandam">Musandam</option>
                </select>
            </label><br/>
            <label class ="fit">State :<br/><input id="state" name="state" type="text" placeholder="Muscat" required></label>
                <div class="form-group">
                    <label for="time">Openning time : </label>
                    <input id="openningTime" type="time"  name="openningTime" required>
                </div>
                <div class="form-group">
                    <label for="time">Closing time : </label>
                    <input id="closingTime" type="time"  name="closingTime" required>
                </div>
              
               
            <div class = "container">
                <div class="row">
                  <div class="col-12">
                    <h4>The available facilities in your field: </h4>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12">
                    <ul class="ul" id="facilities">
                      
                     <li>
                        <label class="container">Free-Wifi
                          <input type="checkbox" checked="checked" name="Free-Wifi"  value="Free-Wifi">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                      
                     <li>
                        <label class="container">Safety deposit box
                          <input type="checkbox" name="Safety-deposit-box"  value="Safety deposit box">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                      
                     <li>
                        <label class="container">Non-smoking area
                          <input type="checkbox" name="Non-smoking-area" value="Non-smoking area">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                      
                     <li>
                        <label class="container">Toilets
                          <input type="checkbox" name="Toilets" value="Toilets">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                      
                      <li>
                        <label class="container">Waiting area
                          <input type="checkbox" name="Waiting-area" value="Waiting area">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                     <li>
                        <label class="container">Parkings
                          <input type="checkbox" name="Parkings" value="Parkings">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                     <li>
                        <label class="container">Cafeteria
                          <input type="checkbox" name="Cafeteria" value="Cafeteria">
                          <span class="checkmark"></span>
                        </label>
                     </li><li>
                        <label class="container">Shower area
                          <input type="checkbox" name="Shower-area" value="Shower area">
                          <span class="checkmark"></span>
                        </label>
                     </li><li>
                        <label class="container">Refreshments
                          <input type="checkbox" name="Refreshments" value="Refreshments">
                          <span class="checkmark"></span>
                        </label>
                     </li>
                     
                    
                     </ul>
                  </div>
                </div>
              </div>
                   
                
                
            </label>
           
            <button type="submit" style="color: black;" >Submit</button>
           </form><br/>


           <form id="deleteForm" action="https://sportfieldbooking.000webhostapp.com/deleteCourt.php" method="post">
            <label class ="fit">
            Enter the commercial register number to delete the court:<br/>
            <input id="deleteCourt" class="fit" type="number" name="deleteCourt" required placeholder="Commertial Reg.NO :">
            <button type="submit" style="color: black;" >Submit</button>
            </label><br/>
           </form>
         
          <!--The table contain information about each sport Filed registered in the website , but it is invisible to the user-->
          <div id="data">

          </div>

        <script type="text/javascript">
          //create a list with the registered courts.
          var dataList = [];
          
          //creating a constructor for each court with its own information.
          function courtInfo(info1 , info2 , info3 , info4 , info5 , info6 , info7 , info8 , info9 , info10 , info11 ){
                  var info1  = ""
                  var info2  = ""
                  var info3  = ""
                  var info4  = ""
                  var info5  = ""
                  var info6  = ""
                  var info7  = ""
                  var info8  = ""
                  var info9  = ""
                  var info10  = ""
                  var info11  = ""
                  //setting the information of the court with the provided information from the  user.
                  this.info1 = info1;
                  this.info2 = info2;
                  this.info3 = info3;
                  this.info4 = info4;
                  this.info5 = info5;
                  this.info6 = info6;
                  this.info7 = info7;
                  this.info8 = info8;
                  this.info9 = info9;
                  this.info10 = info10;
                  this.info11 = info11;
          }
          //creating a function that turns the information of the court to a list to be used later.
          function add(info1 , info2 , info3 , info4 , info5 , info6 , info7 , info8 , info9 , info10 , info11 ){
               var list = [info1 , info2 , info3 , info4 , info5 , info6 , info7 , info8 , info9 , info10 , info11 ]
               return list;

            }
      

           //creating a table with the headers.
            function createTable(){
                var d=document.getElementById("data");
                var table=document.createElement("table");
                d.appendChild(table)
                table.setAttribute("border","2");
                table.setAttribute("width","100%");
                table.setAttribute("id","dataTable");
                table.setAttribute("display","none");
                //creating a list with the headers.
                var dataList = add("Sport Filed Name ","Type of Field","Commercial register number","Contact Number","E-mail","Type of Sport","Province","State","Openning Time","Closing Time","Facilities" );
                
                var row=document.createElement("tr")
                table.appendChild(row);
                for(var i=0 ; i < 11 ; i++){
                    var column=document.createElement("th")
                    row.appendChild(column);
                    column.innerText = dataList[i];
                }

       }

            //this function uses the information from the list to create a new row in the table and write the information in the proper place.
            function addInfo(){
                     var list = validInfo();
                     var table = document.getElementById("dataTable");
                     var rows = table.rows.length;
                     var row1=table.insertRow(rows);
                     for(var i = 0 ; i < 11 ; i++){
                        var column = document.createElement("td")
                        row1.appendChild(column);
                        column.innerText = list[i];
                     }}
            //this function reads the information provided from the user from the form , then it save each info to a avariable and create a new object and saves the information to a list.
            function validInfo(){
                 var info1 = document.getElementById("name").value;

                 var type1 = document.getElementById("type1").checked;
                 var type2 = document.getElementById("type2").checked;
                 var info2 = ""
                 if(type1 && type2){
                    info2 = "In-Door and Out-Door"
                 }
                 else if(type1){
                  info2 = "In-Door"
                 }
                 else if(type2){
                  info2 = "Out-Door"
                 }

                 var info3 = document.getElementById("commercialNo").value;
                 var info4 = document.getElementById("contactNo").value;
                 var info5 = document.getElementById("email").value;
                 var info6 = document.getElementById("sportType").value;
                 var info7 = document.getElementById("Province").value;
                 var info8 = document.getElementById("state").value;
                 var info9 = document.getElementById("openningTime").value;
                 var info10 = document.getElementById("closingTime").value;
                 var option1 = document.querySelector('#facilities input[value="Free-Wifi"]').checked;
                 var option2 = document.querySelector('#facilities input[value="Safety deposit box"]').checked;
                 var option3= document.querySelector('#facilities input[value="Non-smoking area"]').checked;
                 var option4 = document.querySelector('#facilities input[value="Toilets"]').checked;
                 var option5 = document.querySelector('#facilities input[value="Waiting area"]').checked;
                 var option6 = document.querySelector('#facilities input[value="Parkings"]').checked;
                 var option7 = document.querySelector('#facilities input[value="Cafeteria"]').checked;
                 var option8 = document.querySelector('#facilities input[value="Shower area"]').checked;
                 var option9 = document.querySelector('#facilities input[value="Refreshments"]').checked;
                 var info11 = ""
                 if (option1) {
                    info11 =info11 + "Free WiFi  "
                 }
                 if(option2){
                  info11 = info11+ "Safety deposit box  "
                 }
                 if(option3){
                  info11 = info11 + "Non-smoking area  "
                 }
                 if(option4){
                  info11 = info11 + "Toilets  "
                 }
                 if(option5){
                  info11 = info11+ "Waiting area  "
                 }
                 if(option6){
                  info11= info11 + "Parkings  "
                 }
                 if(option7){
                  info11 = info11 +"Cafeteria  "
                 }
                 if(option8){
                  info11 = info11 + "Shower area  "
                 }
                 if(option9){
                  info11 = info11 + "Refreshments  "
                 }
                 if(info11 == ""){
                  info11="There is no Facilities in this Court"
                 }
                 //converting the information to a list.
                 var infoList = add(info1 , info2 , info3 , info4,info5,info6,info7,info8,info9,info10,info11);
                 //creating a new court object and add it to the dataList .
                 var court = courtInfo(info1 , info2 , info3 , info4 , info5 , info6 , info7 , info8 , info9 , info10 , info11)
                 dataList.push(court)

                return infoList;
            }  
            
            //this function checks if some information is valid or not , if not it will send a message to the user.
            function checkValidation(){
                    let name = document.forms["addForm"]["name"];
                    let contact = document.forms["addForm"]["contactNo"];
                    let state = document.forms["addForm"]["state"];
                    
                    //checks if the name does not consist of digits.
                    if(name.value.search(/\d/)!=-1){
                      alert("The Sport Field Name is not Valid !")
                      return false;
                    }
                    //checks if the phone number is 8 digit number.
                    if(contact.value.length != 8){
                      alert("The Contact Number is not 8 Digit Number !")
                      return false;
                    }
                    //checks if the state name does not consist of digits.
                    if(state.value.search(/\d/)!=-1){
                      alert("The State Name is not Valid !")
                      return false;
                    }
                    //if all of the information is valid , the information will be saved and will be added to the table.
                    var list = validInfo();
                    addInfo(list);
                    // a message will be sent to the user that the court is added.
                    
                    
                    //the return statement will be changed to true when the data base is applied.
                    return true;

            }
            
        </script> 
    </body>
    
    <footer>
      <div class="container">
          <div class="row">
              <div class="col">
                  <h3>Website pages</h3>
                  <ul>
                    <li><a href="index.html">Home Page</a></li>
                        <li><a href="https://sportfieldbooking.000webhostapp.com/book.php">Book a sport field</a></li>
                        <li><a href="add.html">Add a sport field </a></li>
                        <li><a href="questionnaire.html">questionnaire</a></li>
                        <li><a href="game.html">game</a></li>
                        <li><a href="calculate.html">calculate</a></li>
                        <li><a href="contact_us.html">contact us</a></li>
                        <li><a href="about_us.html">About us</a></li> 
                        <li><a href="https://sportfieldbooking.000webhostapp.com/search.php">Search</a></li>  
                                       
                  </ul>
              </div>
              <div class="col">
                  <ul>
                      <h3>Sultan Qaboos University</h3>
                      <h3>College of Science</h3>
                      <h3>Computer Science Department</h3>
                      <h3>COMP3700 SP23 Project</h3>    
                      <h3>Members:</h3>
                      <h4>Marwan ALNaabi</h4>
                      <h4>Majid ALManthari</h4>
                      <h4>Yaqoob ALBalushi</h4>


                  </ul>
                  
              </div>
          </div>
      </div>

  </footer>
</html>